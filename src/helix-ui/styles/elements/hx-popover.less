@import (reference) "components/typography";

hx-popover {
  color: @gray-900;
  display: none; // hide by default
  flex-direction: column;
  max-width: 32rem; //~512px
  min-width: 20rem; //~320px
  position: fixed;
  z-index: @popover-z-index;

  &[open] {
    display: flex;
    margin: 0 !important; // prevent margin from shifting position
  }

  > header {
    &:extend(.hxHeading-4);
    flex-shrink: 0;
    order: 1;
    padding: 1.25rem;
  }

  > hx-div {
    flex-grow: 1;
    max-height: 20rem; //~320px
    order: 2;
    overflow: hidden;
    padding: 0 1.25rem;

    &:only-child {
      padding: 1.25rem;
    }
  }

  > footer {
    flex-shrink: 0;
    order: 3;
    padding: 1.25rem;

    // TODO: replace with .hxBtnSet
    .hxBtn + .hxBtn {
      margin-left: 1.25rem;
    }
  }
}

// Polyfilled Browsers
#hxPopover.hx-popover {
  > header {
    &:extend(hx-popover > header);
  }

  > hx-div {
    &:extend(hx-popover > hx-div);

    &:only-child {
      &:extend(hx-popover > hx-div:only-child);
    }
  }

  > footer {
    &:extend(hx-popover > footer all);
  }
}

// DEPRECATED: remove in v1.0.0
hx-popover {
  & > &-head {
    &:extend(hx-popover > header);
  }

  & > &-body {
    &:extend(hx-popover > hx-div);
    overflow-y: auto;
  }

  & > &-foot {
    &:extend(hx-popover > footer all);
  }
}
